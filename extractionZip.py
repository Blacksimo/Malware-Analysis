import csv
from zipfile import ZipFile
from tqdm import tqdm

csvName = 'sha256_family.csv'
malware = list()
with open('dataset/' + csvName) as csvFile:
    reader = csv.reader(csvFile)
    next(reader)
    for row in reader:
        malware.append(row[0])

print("Extracting ",len(malware)," files from the Drebin Dataset")

with ZipFile('drebin.zip') as myzip:
    for i in tqdm(range(len(malware))):
        myzip.extract('drebin/' + csvName)
        myzip.extract('drebin/feature_vectors/' + malware[i])